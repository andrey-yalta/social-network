{"ast":null,"code":"import _regeneratorRuntime from \"/Users/andrejzaharcenko/Desktop/test/react-way-of-samurai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/andrejzaharcenko/Desktop/test/react-way-of-samurai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/Users/andrejzaharcenko/Desktop/test/react-way-of-samurai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/andrejzaharcenko/Desktop/test/react-way-of-samurai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { usersAPI } from \"../api/api\";\nvar FOLLOW = \"FOLLOW\";\nvar UNFOLLOW = \"UNFOLLOW\";\nvar SETUSERS = \"SET-USERS\";\nvar SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nvar SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nvar TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nvar TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\nvar link = \"https://img.favpng.com/25/1/17/avatar-user-computer-icons-software-developer-png-favpng-7SbFpNeqKqhhTrrrnHFUqk6U4.jpg\";\nvar initialState = {\n  users: [// {id:1,photoUrl:link, name: \"Dmitriy\", status:\"Hello world\", location:{city:\"Minsk\", country:\"Belarus\"}, followed:true},\n    // {id:2,photoUrl:link, name: \"Ivan\", status:\"I am a boss\", location:{city:\"Moscow\", country:\"Russia\"}, followed:false},\n    // {id:3,photoUrl:link, name: \"Tanya\", status:\"ha ha ha\", location:{city:\"Kiev\", country:\"Ucraine\"}, followed:true},\n  ],\n  pageSize: 5,\n  totalUsersCount: 21,\n  currentPage: 3,\n  newPostText: \"it-camasutra.com\",\n  isFetching: false,\n  followingInProgress: [2, 3]\n};\n\nvar usersReducer = function usersReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FOLLOW:\n      return _objectSpread({}, state, {\n        users: state.users.map(function (u) {\n          if (u.id === action.userId) {\n            return _objectSpread({}, u, {\n              followed: true\n            });\n          }\n\n          return u;\n        })\n      });\n\n    case UNFOLLOW:\n      return _objectSpread({}, state, {\n        users: state.users.map(function (u) {\n          if (u.id === action.userId) {\n            return _objectSpread({}, u, {\n              followed: false\n            });\n          }\n\n          return u;\n        })\n      });\n\n    case SETUSERS:\n      return _objectSpread({}, state, {\n        users: action.users\n      });\n\n    case SET_CURRENT_PAGE:\n      return _objectSpread({}, state, {\n        currentPage: action.p\n      });\n\n    case SET_TOTAL_USERS_COUNT:\n      return _objectSpread({}, state, {\n        totalUsersCount: action.totalUsersCount\n      });\n\n    case TOGGLE_IS_FETCHING:\n      return _objectSpread({}, state, {\n        isFetching: action.isFetching\n      });\n\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      // debugger;\n      return _objectSpread({}, state, {\n        followingInProgress: action.isFetching ? [].concat(_toConsumableArray(state.followingInProgress), [action.userId]) : state.followingInProgress.filter(function (id) {\n          return id != action.userId;\n        })\n      });\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport var followSuccess = function followSuccess(userId) {\n  return {\n    type: \"FOLLOW\",\n    userId: userId\n  };\n};\nexport var unFollowSuccess = function unFollowSuccess(userId) {\n  return {\n    type: 'UNFOLLOW',\n    userId: userId\n  };\n};\nexport var setUsers = function setUsers(users) {\n  return {\n    type: \"SET-USERS\",\n    users: users\n  };\n};\nexport var setCurrentPage = function setCurrentPage(p) {\n  return {\n    type: \"SET_CURRENT_PAGE\",\n    p: p\n  };\n};\nexport var setTotalUsersCount = function setTotalUsersCount(totalUsersCount) {\n  return {\n    type: \"SET_TOTAL_USERS_COUNT\",\n    totalUsersCount: totalUsersCount\n  };\n};\nexport var toggleIsFetching = function toggleIsFetching(isFetching) {\n  return {\n    type: \"TOGGLE_IS_FETCHING\",\n    isFetching: isFetching\n  };\n};\nexport var toggleFollowingProgress = function toggleFollowingProgress(isFetching, userId) {\n  return {\n    type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\n    isFetching: isFetching,\n    userId: userId\n  };\n};\nexport var getUsers = function getUsers(page, pageSize) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch(toggleIsFetching(true)); //эта херня нужная чтобы включать и выключать анимацию\n\n              dispatch(setCurrentPage(page)); // доделывали,надо разобрать\n\n              _context.next = 4;\n              return usersAPI.getUsers(page, pageSize);\n\n            case 4:\n              data = _context.sent;\n              //WidthCredentials - это значит использовать Cookie от сайта или нет!!\n              dispatch(toggleIsFetching(false));\n              dispatch(setUsers(data.items));\n              dispatch(setTotalUsersCount(data.totalCount));\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var followUnFollowFlow = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch, userId, apiMethod, actionCreator) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            dispatch(toggleFollowingProgress(true, userId));\n            _context2.next = 3;\n            return apiMethod(userId);\n\n          case 3:\n            response = _context2.sent;\n\n            if (response.data.resultCode === 0) {\n              dispatch(actionCreator(userId));\n            }\n\n            dispatch(toggleFollowingProgress(false, userId));\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function followUnFollowFlow(_x2, _x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var follow = function follow(userId) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var apiMethod;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              apiMethod = usersAPI.follow.bind(userId);\n              followUnFollowFlow(dispatch, userId, apiMethod, followSuccess);\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var unFollow = function unFollow(userId) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var apiMethod;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              //это санка\n              apiMethod = usersAPI.unFollow.bind(userId);\n              followUnFollowFlow(dispatch, userId, apiMethod, unFollowSuccess);\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x7) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport default usersReducer;","map":{"version":3,"sources":["/Users/andrejzaharcenko/Desktop/test/react-way-of-samurai/src/redux/users-reducer.js"],"names":["usersAPI","FOLLOW","UNFOLLOW","SETUSERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","link","initialState","users","pageSize","totalUsersCount","currentPage","newPostText","isFetching","followingInProgress","usersReducer","state","action","type","map","u","id","userId","followed","p","filter","followSuccess","unFollowSuccess","setUsers","setCurrentPage","setTotalUsersCount","toggleIsFetching","toggleFollowingProgress","getUsers","page","dispatch","data","items","totalCount","followUnFollowFlow","apiMethod","actionCreator","response","resultCode","follow","bind","unFollow"],"mappings":"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","sourcesContent":["import {usersAPI} from \"../api/api\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW =\"UNFOLLOW\";\nconst SETUSERS=\"SET-USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\n\nlet link = \"https://img.favpng.com/25/1/17/avatar-user-computer-icons-software-developer-png-favpng-7SbFpNeqKqhhTrrrnHFUqk6U4.jpg\";\nlet initialState = {\n    users: [\n        // {id:1,photoUrl:link, name: \"Dmitriy\", status:\"Hello world\", location:{city:\"Minsk\", country:\"Belarus\"}, followed:true},\n        // {id:2,photoUrl:link, name: \"Ivan\", status:\"I am a boss\", location:{city:\"Moscow\", country:\"Russia\"}, followed:false},\n        // {id:3,photoUrl:link, name: \"Tanya\", status:\"ha ha ha\", location:{city:\"Kiev\", country:\"Ucraine\"}, followed:true},\n    ],\n    pageSize:5,\n    totalUsersCount: 21,\n    currentPage: 3,\n    newPostText:\"it-camasutra.com\",\n    isFetching:false,\n    followingInProgress:[2,3],\n};\nconst usersReducer =(state = initialState, action)=>{\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                    users: state.users.map(u => {\n                        if (u.id === action.userId) {\n                            return {...u, followed: true}\n                        }\n                        return u;\n                    })\n                }\n\n        case UNFOLLOW:\n\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: false}\n                    }\n                    return u;\n                })\n            }\n        case SETUSERS:\n            return {\n                ...state,users: action.users,\n            }\n        case SET_CURRENT_PAGE:\n            return {\n                ...state,currentPage: action.p\n            }\n        case SET_TOTAL_USERS_COUNT:\n\n            return {\n\n                ...state, totalUsersCount:action.totalUsersCount\n            }\n        case TOGGLE_IS_FETCHING:\n            return {\n                ...state, isFetching: action.isFetching\n            }\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\n            // debugger;\n            return {\n\n              ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id != action.userId)\n            }\n\n        default:{\n            return state}\n    }};\n\nexport const followSuccess =(userId) =>{\n    return {type:\"FOLLOW\",userId}\n};\nexport const unFollowSuccess = (userId) =>{\n    return {type:'UNFOLLOW',userId}\n};\nexport const setUsers = (users) =>{\n    return {type:\"SET-USERS\",users}\n};\nexport const setCurrentPage = (p) =>{\n    return {type:\"SET_CURRENT_PAGE\", p}\n};\nexport const setTotalUsersCount = (totalUsersCount) =>{\n    return {type:\"SET_TOTAL_USERS_COUNT\", totalUsersCount}\n};\nexport const toggleIsFetching = (isFetching) =>{\n    return{type:\"TOGGLE_IS_FETCHING\", isFetching}\n}\nexport const toggleFollowingProgress  = (isFetching, userId) =>{\n    return{type:\"TOGGLE_IS_FOLLOWING_PROGRESS\", isFetching, userId}\n}\n\nexport const getUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true)); //эта херня нужная чтобы включать и выключать анимацию\n        dispatch(setCurrentPage(page)); // доделывали,надо разобрать\n\n        let data = await usersAPI.getUsers(page, pageSize);\n        //WidthCredentials - это значит использовать Cookie от сайта или нет!!\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUsersCount(data.totalCount));\n    }\n    }\n\nexport const followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) =>{\n    dispatch(toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n    if (response.data.resultCode ===0){\n        dispatch(actionCreator(userId));\n    }\n    dispatch(toggleFollowingProgress(false, userId));\n}\n\n\nexport const follow =(userId) =>{\n\n    return async (dispatch) =>{\n        let apiMethod =usersAPI.follow.bind(userId);\n        followUnFollowFlow(dispatch, userId, apiMethod, followSuccess);\n    }\n}\n\n\nexport const unFollow =(userId) =>{\n\n    return async (dispatch) =>{//это санка\n        let apiMethod =usersAPI.unFollow.bind(userId);\n        followUnFollowFlow(dispatch, userId, apiMethod, unFollowSuccess);\n    }\n}\n\n\nexport default usersReducer;"]},"metadata":{},"sourceType":"module"}